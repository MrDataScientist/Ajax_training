<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->

    <link rel="icon" href="/image/网站图标.jpg">

    <title>添加新成员-TeamWorking</title>

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <!--<link href="css/bootstrap-theme.min.css" rel="stylesheet">-->
    <link href="/css/bootstrap-datetimepicker.min.css" rel="stylesheet" media="screen">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!--<link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> -->
    <!-- Custom styles for this template -->
    <link href="/css/AddSchedule.css" type="text/css" rel="stylesheet" />
    <link href="/css/主页.css" type="text/css" rel="stylesheet" />
    <link href="/css/项目主页.css" type="text/css" rel="stylesheet" />
    <link href="/css/button.css" type="text/css" rel="stylesheet" />

    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/jquery/jquery-1.8.3.min.js" charset="UTF-8"></script>
</head>
<body style="background-color:rgb(128, 128, 128); min-height: 600px;" onload="enter()">
<div class="container" style="background-color:rgb(232, 232, 232);height:550px;width:600px;margin-left:350px;margin-top:50px;">
    <div style="float:right; margin-top:5px;">
        <a href="#" onClick="history.back(-1);">
        <button type="button" class="close" aria-hidden="true">
            &times;
        </button>
        </a>
    </div>
    <div>
        <h4 style="text-align: left; vertical-align: middle;"><p style="font-size:25px;">添加日程到项目：<%= projectname%></p></h4>
    </div>
    <!--style="border:0px solid silver;background-color:rgb(255, 255, 255);width:570px;height:60px;margin-left:0px;margin-right:5px;"-->
    <form method="post">
    <div class="container" >
        <label for="inputText" class="sr-only">日程标题</label>
        <input type="text" id="schedule-name" class="form-control" placeholder="日程标题" name="title" required style="height:56px;width:550px;margin-left:0px;margin-right:30px;" />
    </div>
    <div class="container">
        <label for="inputText" class="sr-only">地点</label>
        <input type="text" id="schedule-position" class="form-control" placeholder="地点" name="place" required  style="height:46px;width:550px;margin-left:0px;margin-right:30px;" />
    </div>
    <div class="container" style="margin-top: 20px; padding-left: 0px; background-color: rgb(255,255,255); border: 1px solid silver; width: 550px; margin-left: 15px; ">
        <div class="col-xs-3" style="border: 0px solid silver;  height: 40px; width: 230px; background-color: rgb(255,255,255);padding-left:0px;">
            <div class="container" style="border:0px solid silver;width:230px;height:40px;padding-left:0px;margin-left:10px;">
                <p class="text-muted" style="font-size:20px;margin-top:5px;">开始时间</p>
            </div>
            <div class="container" style="padding-left:0px;">
                <div class="form-group">
                    <div class="input-append date form_datetime ">
                        <input class="timedate" size="16" placeholder="点击设置" type="text" value="" name="starttime" readonly>
                        <span class="add-on"><i class="icon-th"></i></span>
                    </div>

                    <script type="text/javascript">
                        $(".form_datetime").datetimepicker({
                            format: "dd MM yyyy - hh:ii"
                        });
                    </script>
                </div>
            </div>
        </div>
        <div class="col-xs-3" style="border: 0px solid silver; height: 40px; width: 240px; background-color: rgb(255,255,255); padding-left: 0px;">
            <div>
                <div class="container" style="border:0px solid silver;width:240px;height:40px;">
                    <label for="inputText" class="sr-only">结束时间</label>
                    <p class="text-muted" style="font-size:20px;margin-top:5px;">结束时间</p>
                </div>
                <div class="container" style="padding-left:0px;">
                    <div class="form-group">
                        <div class="input-append date form_datetime">
                            <input class="timedate" size="16" placeholder="点击设置" type="text" name="endtime" value="" readonly>
                            <span class="add-on"><i class="icon-th"></i></span>
                        </div>

                        <script type="text/javascript">
                            $(".form_datetime").datetimepicker({
                                format: "dd MM yyyy - hh:ii"
                            });
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
                    <script type="text/javascript">
                        var jos=[];
                        function enter() {
                            var mem={
                                username:'<%= join[0].username%>',
                                avatar:'<%= join[0].avatar%>',
                            }
                            jos.push(mem);
                            var x=document.getElementById("joinmembers");
                         //   alert(jos[0].username);
                            var html='';
                            html+='<div class="col-md-1">'+'<img class="img3" src="/image/avatar/'+jos[0].avatar+'" alt="成员" />'+'</div>';
                           // html+='<input type="text" name="name" hidden="true" value="'+jos[0].username+'"/>';
                            x.innerHTML=html;
                        }
                        function addmem(name) {
                            x=document.getElementById("img"+name);
                            var   y= x.src.toString().split('/');
                           // alert(y[5]);
                            var mem={
                                username:name,
                                avatar:y[5]
                            };
                            for(i in jos){
                                if(jos[i].username==name)
                                    return ;
                            }
                            jos.push(mem);
                            //alert(jos.length);
                            var x=document.getElementById("joinmembers");
                            var html='';
                            for(i in jos){
                                html+='<div class="col-md-1">'+'<img class="img3" src="/image/avatar/'+jos[i].avatar+'" alt="成员" />'+'</div>';
                                html+='<input type="text" name="name" hidden="true" value="'+jos[i].username+'"/>';
                            }
                            x.innerHTML=html;
                        }
                    </script>
        <div class="addzuyuan">
            <p class="pp3">参与者</p>
            <div class="row rrow">
                <div class="col-md-1">
                    <div class="dropdown">
                        <div class="drop5" style="">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" type="button" id="dropdownMenu1" aria-haspopup="true" aria-expanded="false"><img class="img3" src="/image/PlusMember.jpg" alt="添加组员"></a>
                        </div>
                        <ul class="dropdown-menu drop6" aria-labelledby="dropdownMenu1" id="members">
                            <%users.forEach(function(user){%>
                            <li>
                                <!--<a href="#">-->
                                    <div class="img2" id="<%= user.username%>"><img id="img<%= user.username%>"  class="img3" src="/image/avatar/<%= user.avatar%>" alt="成员1" /><label class="use-id" for=" user_id"><%= user.username%></label><button class="button zuyuanbtn button-circle button-small" type="button" onclick="addmem('<%=user.username%>')"><span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span></button></div>
                                <!--</a>-->
                            </li>
                            <%})%>
                        </ul>
                    </div><!--dropdpwn-->
                </div>
                <div id="joinmembers">

                </div>

            </div><!--row-->
        </div>
    <div class="container" style="width:550px;height:80px;margin-top:20px;background-color:rgb(255,255,255);">
        <div class="col-md-3 radio" style="width:150px;">
            <label>
                <input type="radio" name="optionsRadios" id="private" value="option1" > <p>隐私模式</p><p class="text-muted">仅自己可见</p>
            </label>
        </div>
        <div class="col-md-3 radio" style="width:250px;margin-top:10px;">
            <label>
                <input type="radio" name="optionsRadios" id="imprivate" value="option2" checked><p>非隐私模式</p><p class="text-muted">所以成员可见</p>
            </label>
        </div>
    </div>
    <div class="form-group" style="float:right;">
        <button  type="submit"  class="btn btn-primary btn-lg" id="creatSche">创建日程</button>
    </div>
    </form>
</div>


<script type="text/javascript" src="/js/bootstrap-datetimepicker.js" charset="UTF-8"></script>
<script type="text/javascript" src="/js/locales/bootstrap-datetimepicker.fr.js" charset="UTF-8"></script>
<script type="text/javascript">
    $('.form_datetime').datetimepicker({
        //language:  'fr',
        weekStart: 1,
        todayBtn:  1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        forceParse: 0,
        showMeridian: 1
    });
    $('.form_date').datetimepicker({
        language:  'fr',
        weekStart: 1,
        todayBtn:  1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        minView: 2,
        forceParse: 0
    });
    $('.form_time').datetimepicker({
        language:  'fr',
        weekStart: 1,
        todayBtn:  1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 1,
        minView: 0,
        maxView: 1,
        forceParse: 0
    });
</script>
</body>
</html>

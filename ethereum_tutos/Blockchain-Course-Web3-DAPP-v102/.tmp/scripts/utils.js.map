{"version":3,"sources":["utils.js"],"names":["etherscanBaseUrl","setUIBasedOnNodeType","nodeType","setData","document","getElementById","disabled","generateTransactionJSON","copyBytecodeInterfaceToUI","updateIFrameContent","iframe_id","data","iframe","iframedoc","contentDocument","contentWindow","body","innerHTML","html","docElementId","errored","classList","arrayToMultilineString","arr","concat","i","length","addAccountsToList","listId","index","account","li","createElement","input","value","id","appendChild","list","addAccountBalancesToList","accountBalance","class","innerText","removeAllChildItems","elementId","ele","hasChildNodes","removeChild","firstChild","addAccountsToSelects","accounts","addOptionToSelect","substring","selectId","text","option","select","createTransactionObjectJson","transObject","from","to","valueInEther","valueInWei","web3","toWei","gas","gasPrice","toHex","nonce","contract_bytecode","contract_abidefinition","tobject","JSON","stringify","undefined","resetTransactionObjectParameters","createEtherscanIoUrl","type","hashOrNumber","url","setEtherscanIoLink","aId","etherscanLinkA","href","flattenSource","src","replace","compileResultWindowsHack","result","cleaned","prop","newProp","resetDeploymentResultUI","console","log","setExecuteResultUI","callType","functionName","parameter","return_value","txHash","error","detail","generateFilterOptions","options","val","trim","split","getHashEventSignature","addEventListItem","childData","len","childNodes","createEventListItem","insertBefore","div","p","logIndex","transactionIndex","aLink","blockNumber","target","transactionHash","address","clearList","addContractEventListItem","evt","sha3"],"mappings":"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","file":"utils.js","sourcesContent":["/**\r\n * Contains utility functions for managing the UI\r\n */\r\n\r\n// Holds the base URL for etherscan.io\r\nvar etherscanBaseUrl='https://ropsten.etherscan.io/';\r\n\r\n\r\n// Since some of the functons/API are not available based on the\r\n// Node type - this function disables certainelements\r\nfunction    setUIBasedOnNodeType(){\r\n    // Unlock Account - Check the node type\r\n    \r\n    if(nodeType === 'metamask' || nodeType == 'testrpc'){\r\n        setData('lock_unlock_result','Unlock / lock ( ) not supported for '+nodeType,true);\r\n    } else {\r\n        setData('lock_unlock_result','--',false);\r\n    }\r\n    // Compiler options\r\n    if(nodeType === 'geth' || nodeType === 'metamask'){\r\n        // Not supported for geth & metamask\r\n        setData('list_of_compilers','getCompilers ( ) & compileSolidity ( ) not supported for '+nodeType,true);\r\n\r\n        // Disable the compile butto\r\n        document.getElementById('button_do_compile').disabled = true;\r\n        //document.getElementById(\"sourcecode\").value=\"Compile sample contract in Remix | Wallet | solc . Copy & Paste the Bytecode | ABIDefinition for deployment.\";\r\n        document.getElementById('sourcecode').disabled=true;\r\n    } else {\r\n        setData('list_of_compilers','--',false);\r\n        document.getElementById('button_do_compile').disabled = false;\r\n        document.getElementById('sourcecode').disabled=false;   \r\n    }\r\n\r\n    // This simply creates the JSON for default transaction object\r\n    generateTransactionJSON();\r\n    copyBytecodeInterfaceToUI();\r\n}\r\n\r\n// Update the iframe data\r\nfunction updateIFrameContent(iframe_id, data) {\r\n    var iframe = document.getElementById(iframe_id);\r\n    var iframedoc = iframe.contentDocument || iframe.contentWindow.document;\r\n    iframedoc.body.innerHTML = html;\r\n}\r\n\r\nfunction setData(docElementId, html, errored) {\r\n    document.getElementById(docElementId).innerHTML = html;\r\n    if (errored) document.getElementById(docElementId).classList = 'notready';\r\n    else document.getElementById(docElementId).classList = 'ready';\r\n}\r\n\r\nfunction arrayToMultilineString(arr) {\r\n    var concat = '';\r\n    for (var i = 0; i < arr.length; i++) {\r\n        concat += arr[i] + '<br>'\r\n    }\r\n    return concat;\r\n}\r\n\r\n/**\r\n * Creates a list item for the account in the account list\r\n */\r\nfunction addAccountsToList(listId,index,account){\r\n    var li = document.createElement('LI');\r\n    var input = document.createElement('INPUT')\r\n    input.value = account;\r\n    input.id = 'account'+index;\r\n    input.disabled=true;\r\n    li.appendChild(input)\r\n    var list = document.getElementById(listId);\r\n    list.appendChild(li)\r\n}\r\n\r\n\r\n/**\r\n * Creates a list item for the balance in the account balance list\r\n */\r\nfunction addAccountBalancesToList(listId,index,accountBalance){\r\n    var li = document.createElement('LI');\r\n    li.class='ready'\r\n    var input = document.createElement('P');\r\n    input.class = 'ready';\r\n    input.innerText=accountBalance+' Ether';\r\n    li.appendChild(input);\r\n    var list = document.getElementById(listId);\r\n    list.appendChild(li)\r\n}\r\n\r\n/**\r\n * Removes all of the <li> in List\r\n */\r\nfunction removeAllChildItems(elementId){\r\n    var ele = document.getElementById(elementId);\r\n    while (ele.hasChildNodes()) {   \r\n        ele.removeChild(ele.firstChild);\r\n    }\r\n}\r\n\r\n/**\r\n * This populates all <SELECT> boxes with accounts\r\n */\r\nfunction    addAccountsToSelects(accounts){\r\n    \r\n    removeAllChildItems('send_from_account');\r\n    removeAllChildItems('send_to_account');\r\n    removeAllChildItems('select_to_unlock_account');\r\n    for (var i = 0; i < accounts.length; i++) {\r\n        addOptionToSelect('send_from_account', accounts[i].substring(0,15)+'...', accounts[i]);\r\n        addOptionToSelect('send_to_account', accounts[i].substring(0,15)+'...', accounts[i]);\r\n        addOptionToSelect('select_to_unlock_account', accounts[i].substring(0,15)+'...', accounts[i]);\r\n    }\r\n}\r\n\r\n/**\r\n * Add options to a <select>\r\n */\r\nfunction    addOptionToSelect(selectId, text, value){\r\n    var option = document.createElement('OPTION');\r\n    option.text = text;\r\n    option.value = value;\r\n    var select = document.getElementById(selectId);\r\n    select.appendChild(option)\r\n\r\n    // lets try data list add \r\n    // select = document.getElementById(\"browsers\");\r\n    // option = document.createElement('OPTION');\r\n    // option.text=text\r\n    // select.appendChild(option)\r\n}\r\n\r\n/**\r\n * This function creates the transaction object by reading the input elements\r\n */\r\nfunction    createTransactionObjectJson(){\r\n    var transObject = {};\r\n    // get the from and to account \r\n    transObject.from = document.getElementById('send_from_account').value;\r\n    transObject.to = document.getElementById('send_to_account_value').value;\r\n    // Get the value in ether and convert to wie\r\n    var valueInEther = document.getElementById('send_value_in_ether').value\r\n    var valueInWei = web3.toWei(valueInEther,'ether');\r\n    transObject.value = valueInWei;\r\n    // set the gas and gasPrice\r\n    if(document.getElementById('send_gas').value !== 'default')\r\n        transObject.gas = document.getElementById('send_gas').value;\r\n    if(document.getElementById('send_gas_price').value !== 'default')\r\n        transObject.gasPrice = document.getElementById('send_gas_price').value;\r\n    // set the data\r\n    if(document.getElementById('send_data').value !== 'default'){\r\n        // convert the ascii to hex\r\n        var data = document.getElementById('send_data').value;\r\n        transObject.data = web3.toHex(data);\r\n    }\r\n    // set the nonce\r\n    if(document.getElementById('send_nonce').value !== 'default')\r\n        transObject.nonce = document.getElementById('send_nonce').value;\r\n\r\n    return transObject;\r\n}\r\n\r\n// The byte code for the \r\nfunction copyBytecodeInterfaceToUI(){\r\n    document.getElementById('compiled_bytecode').value=(contract_bytecode);\r\n    document.getElementById('compiled_abidefinition').value=(contract_abidefinition);\r\n}\r\n\r\n/**\r\n * Populates the JSON for transaction object\r\n */\r\nfunction    generateTransactionJSON(){\r\n    var tobject = createTransactionObjectJson();\r\n    setData('send_transaction_object_json',JSON.stringify(tobject,undefined,2),false)\r\n}\r\n\r\n/**\r\n * Resets the value in the transaction object input values\r\n */\r\nfunction    resetTransactionObjectParameters(){\r\n    document.getElementById('send_gas').value = 'default';\r\n    document.getElementById('send_gas_price').value = 'default';\r\n    document.getElementById('send_data').value = 'default';\r\n    document.getElementById('send_nonce').value = 'default';\r\n    document.getElementById('send_value_in_ether').value = 0;\r\n    generateTransactionJSON();\r\n}\r\n\r\n/**\r\n * Create the etherscan link\r\n */\r\nfunction    createEtherscanIoUrl(type,hashOrNumber){\r\n\r\n    // For TestRPC - this URL will have no meaning as the\r\n    // Etherscan.io will not know about the Tx Hash\r\n\r\n    var url = etherscanBaseUrl;\r\n    if(type === 'tx'){\r\n        url += 'tx/'+hashOrNumber;\r\n    } else if(type === 'block'){\r\n        url += 'block/'+hashOrNumber;\r\n    } else if(type === 'address'){\r\n        url += 'address/'+hashOrNumber;\r\n    } \r\n    return url;\r\n}\r\n\r\n/**\r\n * Sets the href in the <a> tag for etherscan.io\r\n */\r\nfunction   setEtherscanIoLink(aId, type, hashOrNumber){\r\n    var etherscanLinkA=document.getElementById(aId);\r\n    etherscanLinkA.href = createEtherscanIoUrl(type,hashOrNumber);\r\n    if(hashOrNumber)\r\n        etherscanLinkA.innerHTML='etherscan.io';\r\n    else\r\n        etherscanLinkA.innerHTML='';\r\n}\r\n\r\n/**\r\n * Flattens the source code for contract as it needs to be provided as a command line\r\n * argument to the solidity compiler\r\n */\r\nfunction flattenSource(src){\r\n    return src.replace(/\\n/g, ' ');\r\n}\r\n\r\n/**\r\n * Windows Solidity Hack\r\n * On Windows for some reason the contracts in compiled result appear as \"<stdin>:Contract\" \r\n * instead of just \"Contract\" so this hack simply removes the \"<stdin>:\" from the contract\r\n * names. No impact if the compilation result is in a good state.\r\n * */\r\nfunction    compileResultWindowsHack(result){\r\n    var cleaned = {}\r\n    for(var prop in result){\r\n        var newProp = prop.replace('<stdin>:','');\r\n        cleaned[newProp] = result[prop];\r\n    }\r\n    return cleaned;\r\n}\r\n\r\n/**\r\n * Reset the deployment result UI\r\n */\r\nfunction    resetDeploymentResultUI(){\r\n    console.log('utils.resetDeploymentResultUI() TO BE CODED')\r\n}\r\n\r\n/**\r\n * Sets the Result UI components for the Execute call\r\n */\r\nfunction    setExecuteResultUI(callType,functionName, parameter, return_value, txHash, error){\r\n    var detail = callType+':'+functionName+'('+parameter+')';\r\n    if(error)  detail += ' FAILED '+return_value;\r\n    else detail += 'Successful';\r\n\r\n    setData('invoke_details',detail,(error));\r\n\r\n    setData('invoke_return_value',return_value,(error));\r\n\r\n    console.log('return_value=',return_value)\r\n\r\n    setData('invoke_contracttransactionhash', txHash, false);\r\n    //invoke_contracttransactionhash_link\r\n    setEtherscanIoLink('invoke_contracttransactionhash_link', 'tx', txHash);\r\n}\r\n\r\n/**\r\n * Generates the filter options array & updates the UI also\r\n */\r\n\r\nfunction    generateFilterOptions()   {\r\n\r\n    var options = {};\r\n    var val = document.getElementById('from_block_filter').value;\r\n    if(val && val.trim().length > 0)\r\n                options['fromBlock'] = val;\r\n    val = document.getElementById('to_block_filter').value;\r\n    if(val && val.trim().length > 0)\r\n                options['toBlock'] =  val;\r\n\r\n    var val = document.getElementById('addresses_filter').value;\r\n    // Addresses have multiple addresses separated by new line - need to be changed to comma separated\r\n    val = val.trim();\r\n    \r\n    if(val.length > 0) {\r\n        //val = val.replace('\\n',',');\r\n        val = val.split('\\n');\r\n        options['address'] = val;\r\n    }\r\n    val = document.getElementById('topics_filter').value;\r\n    // only 3 topics allowed in options; array created with elements each in new line\r\n    val = val.trim();\r\n\r\n        console.log('SIG=',getHashEventSignature('NumberSetEvent(address,bytes32,bytes32)'))\r\n\r\n    if(val.length > 0 ){\r\n        val = val.split('\\n');\r\n\r\n        for(var i=0; i < val.length;i++){\r\n            val[i] = val[i].trim()\r\n            if(val[i] === 'null') val[i]=null;\r\n        }\r\n        options['topics'] = val;\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    setData('options_filter',JSON.stringify(options,undefined,2),false);\r\n    return options;\r\n}\r\n\r\n/**\r\n * Adds a list element in the 0th position\r\n * Removes the last element if the length exceeds provided ln\r\n */\r\nfunction    addEventListItem(listId, childData, len){\r\n    \r\n    console.log('Event:',childData);\r\n\r\n    // check length\r\n    var list = document.getElementById(listId);\r\n    if(list.childNodes.length >= len){\r\n        var i = list.childNodes.length - 1; // last child\r\n        list.removeChild(list.childNodes[i]);\r\n    }\r\n    // Create the List Item for the events list\r\n    var li = document.createElement('LI');\r\n\r\n    // Add new event in the 0th position\r\n    li.appendChild(createEventListItem(childData));\r\n    list.insertBefore(li, list.childNodes[0]);\r\n}\r\n\r\n// Creates the item in the events list\r\nfunction    createEventListItem(childData){\r\n    var div = document.createElement('SPAN');\r\n    var p = document.createElement('A');\r\n    p.text = 'Log#'+childData.logIndex+', Txn#'+childData.transactionIndex;\r\n    div.appendChild(p);\r\n    var aLink = document.createElement('A')\r\n    //Add block info link\r\n    aLink.text = ', Blk#'+childData.blockNumber;\r\n    aLink.href = createEtherscanIoUrl('block', childData.blockNumber);\r\n    aLink.target='_blank';\r\n    div.appendChild(aLink);\r\n    // Add txn info link\r\n    if(childData.transactionHash){\r\n        aLink = document.createElement('A')\r\n        aLink.text = ', Txn, ';\r\n        aLink.href = createEtherscanIoUrl('tx', childData.transactionHash);\r\n        aLink.target='_blank';\r\n        div.appendChild(aLink);\r\n    }\r\n    // Address\r\n    if(childData.address){\r\n        aLink = document.createElement('A')\r\n        aLink.text = 'Addr';\r\n        aLink.href = createEtherscanIoUrl('address', childData.address);\r\n        aLink.target='_blank';\r\n        div.appendChild(aLink);\r\n    }\r\n    return div;\r\n}\r\n\r\n/**\r\n * Clears the items from a list element on the HTML page\r\n */\r\nfunction    clearList(listId){\r\n    var list = document.getElementById(listId);\r\n    for(var i=list.childNodes.length-1; i>=0 ;i--){\r\n        list.removeChild(list.childNodes[i]);\r\n    }\r\n}\r\n\r\n/**\r\n * Adds the CONTRACT watch event to the list box \r\n */\r\nfunction    addContractEventListItem(listId, childData, len){\r\n    console.log(JSON.stringify(childData))\r\n}\r\n\r\n\r\n/**\r\n * Hash signature of the event\r\n * Utility method to show how to generate the event signature\r\n * getHashEventSignature('NumberSetEvent(address,bytes32,bytes32)')\r\n */\r\nfunction getHashEventSignature(evt){\r\n    return web3.sha3(evt)\r\n}"]}
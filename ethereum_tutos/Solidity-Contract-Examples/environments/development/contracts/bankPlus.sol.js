// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[],"name":"payBankTax","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"dividend","type":"address"}],"name":"payDividend","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"customer","type":"address"}],"name":"withdraw50","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"taxContract","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"refund","outputs":[{"name":"","type":"string"}],"type":"function"},{"constant":false,"inputs":[],"name":"kill","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"customer","type":"address"},{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"sendMoney","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"mortal","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"customer","type":"address"}],"name":"deposit","outputs":[],"type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_dividend","type":"address"}],"name":"_deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_dividend","type":"address"}],"name":"_payDividend","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_customer","type":"address"}],"name":"_withdraw50","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_customer","type":"address"},{"indexed":false,"name":"_recipient","type":"address"},{"indexed":false,"name":"_amount","type":"address"}],"name":"_sendMoney","type":"event"}],
    binary: "60606040526706f05b59d3b2000060015560028054600160a060020a0319167329a02cd0f340efb6492c535a951fb33270ad1ef71790556103db806100446000396000f3606060405236156100825760e060020a60003504633072c9e98114610084578063312220ba146100cb5780633218c33f1461014a5780633aefe462146101dc578063410085df146101ee57806341c0e1b51461026c5780638da5cb5b14610294578063ae342582146102a6578063f1eae25c146102fa578063f340fa011461031e575b005b60028054600160a060020a039081166000908152600360208190526040822030841680318390049091559354610082949316923104606082818181858883f150505050505b565b610343600435600160a060020a03808216600081815260036020526040812060053090941631939093049283905591908282606082818181858883f19350505050156103d657806003600050600085600160a060020a031681526020019081526020016000206000828282505403925050819055506001915050919050565b610082600435600154600160a060020a03821660009081526003602052604090205411801561019f575080600160a060020a03166000600160005054604051809050600060405180830381858888f193505050505b156101d9576001600050546003600050600083600160a060020a031681526020019081526020016000206000828282505403925050819055505b50565b610355600254600160a060020a031681565b61036860043560243560806040526000606090815230600160a060020a0316318210156103d657600160a060020a038316600083608082818181858883f1505060408051808201909152601081527f726566756e642070726f6365737365640000000000000000000000000000000060208201529695505050505050565b61008260005433600160a060020a03908116911614156100c957600054600160a060020a0316ff5b610355600054600160a060020a031681565b610082600435602435604435600160a060020a038316600090815260036020526040902054819011156102f5576040600081812080548490039055600160a060020a0384168152208054820190555b505050565b6100826000805473ffffffffffffffffffffffffffffffffffffffff191633179055565b600160a060020a03600435166000908152600360205260409020805434019055610082565b60408051918252519081900360200190f35b600160a060020a03166060908152602090f35b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156103c85780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61000256",
    unlinked_binary: "60606040526706f05b59d3b2000060015560028054600160a060020a0319167329a02cd0f340efb6492c535a951fb33270ad1ef71790556103db806100446000396000f3606060405236156100825760e060020a60003504633072c9e98114610084578063312220ba146100cb5780633218c33f1461014a5780633aefe462146101dc578063410085df146101ee57806341c0e1b51461026c5780638da5cb5b14610294578063ae342582146102a6578063f1eae25c146102fa578063f340fa011461031e575b005b60028054600160a060020a039081166000908152600360208190526040822030841680318390049091559354610082949316923104606082818181858883f150505050505b565b610343600435600160a060020a03808216600081815260036020526040812060053090941631939093049283905591908282606082818181858883f19350505050156103d657806003600050600085600160a060020a031681526020019081526020016000206000828282505403925050819055506001915050919050565b610082600435600154600160a060020a03821660009081526003602052604090205411801561019f575080600160a060020a03166000600160005054604051809050600060405180830381858888f193505050505b156101d9576001600050546003600050600083600160a060020a031681526020019081526020016000206000828282505403925050819055505b50565b610355600254600160a060020a031681565b61036860043560243560806040526000606090815230600160a060020a0316318210156103d657600160a060020a038316600083608082818181858883f1505060408051808201909152601081527f726566756e642070726f6365737365640000000000000000000000000000000060208201529695505050505050565b61008260005433600160a060020a03908116911614156100c957600054600160a060020a0316ff5b610355600054600160a060020a031681565b610082600435602435604435600160a060020a038316600090815260036020526040902054819011156102f5576040600081812080548490039055600160a060020a0384168152208054820190555b505050565b6100826000805473ffffffffffffffffffffffffffffffffffffffff191633179055565b600160a060020a03600435166000908152600360205260409020805434019055610082565b60408051918252519081900360200190f35b600160a060020a03166060908152602090f35b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156103c85780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61000256",
    address: "",
    generated_with: "2.0.9",
    contract_name: "bankPlus"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("bankPlus error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("bankPlus error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("bankPlus error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("bankPlus error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.bankPlus = Contract;
  }

})();
